<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="JenKins iOS在线打包 坑点备忘1. 证书配置1. 文件配置中的版本号要和Xcode所描述的版本号完全一致 2. 设置的provision_profile 是在线平台给配置的,在配置的时候是平台使用平台上面的证书预先为项目申请了bundleID 所以BundleID 和provision_profile都将是由平台提供 3. 项目所能支持的最低的iOS版本是要和Xcode上面的完全一致">
<meta property="og:type" content="article">
<meta property="og:title" content="JenKins在线打包坑点总结">
<meta property="og:url" content="http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/index.html">
<meta property="og:site_name" content="紫莯">
<meta property="og:description" content="JenKins iOS在线打包 坑点备忘1. 证书配置1. 文件配置中的版本号要和Xcode所描述的版本号完全一致 2. 设置的provision_profile 是在线平台给配置的,在配置的时候是平台使用平台上面的证书预先为项目申请了bundleID 所以BundleID 和provision_profile都将是由平台提供 3. 项目所能支持的最低的iOS版本是要和Xcode上面的完全一致">
<meta property="og:updated_time" content="2017-07-16T10:53:27.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JenKins在线打包坑点总结">
<meta name="twitter:description" content="JenKins iOS在线打包 坑点备忘1. 证书配置1. 文件配置中的版本号要和Xcode所描述的版本号完全一致 2. 设置的provision_profile 是在线平台给配置的,在配置的时候是平台使用平台上面的证书预先为项目申请了bundleID 所以BundleID 和provision_profile都将是由平台提供 3. 项目所能支持的最低的iOS版本是要和Xcode上面的完全一致">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>JenKins在线打包坑点总结</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2017/07/16/今天写点啥呢-随便写点吧/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2017/07/13/iOS安全培训/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/&text=JenKins在线打包坑点总结"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/&title=JenKins在线打包坑点总结"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/&is_video=false&description=JenKins在线打包坑点总结"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=JenKins在线打包坑点总结&body=Check out this article: http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/&title=JenKins在线打包坑点总结"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/&title=JenKins在线打包坑点总结"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/&title=JenKins在线打包坑点总结"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/&title=JenKins在线打包坑点总结"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/&name=JenKins在线打包坑点总结&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#JenKins-iOS在线打包-坑点备忘"><span class="toc-number">1.</span> <span class="toc-text">JenKins iOS在线打包 坑点备忘</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-证书配置"><span class="toc-number">1.1.</span> <span class="toc-text">1. 证书配置</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-打包apk报错信息"><span class="toc-number">2.</span> <span class="toc-text">2. 打包apk报错信息</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        JenKins在线打包坑点总结
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">紫莯</span>
      </span>
      
    <div class="postdate">
        <time datetime="2017-07-16T10:27:28.000Z" itemprop="datePublished">2017-07-16</time>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <script src="/assets/js/APlayer.min.js"> </script><h4 id="JenKins-iOS在线打包-坑点备忘"><a href="#JenKins-iOS在线打包-坑点备忘" class="headerlink" title="JenKins iOS在线打包 坑点备忘"></a>JenKins iOS在线打包 坑点备忘</h4><h5 id="1-证书配置"><a href="#1-证书配置" class="headerlink" title="1. 证书配置"></a>1. 证书配置</h5><pre><code>1. 文件配置中的版本号要和Xcode所描述的版本号完全一致
2. 设置的provision_profile 是在线平台给配置的,在配置的时候是平台使用平台上面的证书预先为项目申请了bundleID 所以BundleID 和provision_profile都将是由平台提供
3. 项目所能支持的最低的iOS版本是要和Xcode上面的完全一致
4. 目前公司的在线打包平台所配置的对文件结构有比较严格的要求,要求运行包必须在包里面.XCodeProj也就是SVN/Git的文件目录为/Proj/Proj/.xCodeProj...
5. 自动签名需要关闭,不然会导致签名失败
</code></pre><h4 id="2-打包apk报错信息"><a href="#2-打包apk报错信息" class="headerlink" title="2. 打包apk报错信息"></a>2. 打包apk报错信息</h4><blockquote>
<p>Check dependencies<br>[BEROR]XXXX has conflicting provisioning settings. XXXX is automatically signed, but provisioning profile XXXXXX has been manually specified. Set the provisioning profile value to “Automatic” in the build settings editor, or switch to manual signing in the project editor.<br>[BEROR]Code signing is required for product type ‘Application’ in SDK ‘iOS 10.0’<br>[BEROR]Code signing is required for product type ‘Application’ in SDK ‘iOS 10.0’</p>
</blockquote>
<p>报错原因为没有取消自动获取签名的选项</p>
<blockquote>
<p>clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>Ld build/XXXXX.build/Release-iphoneos/XXXXX.build/Objects-normal/armv7/XXXXX normal armv7<br>    cd /Users/Bone/.jenkins/jobs/XXXXX_iOS_Release/workspace/tmp<br>    export IPHONEOS_DEPLOYMENT_TARGET=6.0<br>    export PATH=”/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/usr/bin:/Applications/Xcode.app/Contents/Developer/usr/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/Library/Frameworks/Python.framework/Versions/2.7/bin:/Library/Frameworks/Python.framework/Versions/2.7/bin:/usr/local/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin”<br>    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang++ -arch armv7 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS10.0.sdk -L/Users/Bone/.jenkins/jobs/XXXXX_iOS_Release/workspace/tmp/build/Release-iphoneos -L/Users/Bone/.jenkins/jobs/XXXXX_iOS_Release/workspace/tmp/XXXXX/ThirdPart/libWeiboSDK -L/Users/Bone/.jenkins/jobs/XXXXX_iOS_Release/workspace/tmp/XXXXX/ThirdPart/ZBarSDK -L/Users/Bone/.jenkins/jobs/XXXXX_iOS_Release/workspace/tmp/XXXXX/ThirdPart/WeChatSDK -F/Users/Bone/.jenkins/jobs/XXXXX_iOS_Release/workspace/tmp/build/Release-iphoneos -F/Users/Bone/.jenkins/jobs/XXXXX_iOS_Release/workspace/tmp/XXXXX/lib -F/Users/Bone/.jenkins/jobs/XXXXX_iOS_Release/workspace/tmp/XXXXX -filelist /Users/Bone/.jenkins/jobs/XXXXX_iOS_Release/workspace/tmp/build/XXXXX.build/Release-iphoneos/XXXXX.build/Objects-normal/armv7/XXXXX.LinkFileList -Xlinker -rpath -Xlinker </p>
</blockquote>
<p>报错原因:没有正确配置项目所能支持的最低iOS版本号,该项错误可以获取到.ipa文件,但是.ipa文件的文件大小特别的小</p>
<blockquote>
<p>所有的配置都要做到仔细检查防止在最后打包的时候,不能成功获取到.ipa文件;在打包的时候 需要特别注意打包的文件生成顺序,一般说来会优先生成我们的.app文件,然后才是.ipa文件,目前的jenkins平台生成的ipa文件为两个 外加source文件的备份,一共会有4个文件生成.</p>
</blockquote>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#JenKins-iOS在线打包-坑点备忘"><span class="toc-number">1.</span> <span class="toc-text">JenKins iOS在线打包 坑点备忘</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-证书配置"><span class="toc-number">1.1.</span> <span class="toc-text">1. 证书配置</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-打包apk报错信息"><span class="toc-number">2.</span> <span class="toc-text">2. 打包apk报错信息</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/&text=JenKins在线打包坑点总结"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/&title=JenKins在线打包坑点总结"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/&is_video=false&description=JenKins在线打包坑点总结"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=JenKins在线打包坑点总结&body=Check out this article: http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/&title=JenKins在线打包坑点总结"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/&title=JenKins在线打包坑点总结"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/&title=JenKins在线打包坑点总结"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/&title=JenKins在线打包坑点总结"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://zimu.tk/2017/07/16/JenKins在线打包坑点总结/&name=JenKins在线打包坑点总结&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2018 Hugh Lee
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-86660611-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->


